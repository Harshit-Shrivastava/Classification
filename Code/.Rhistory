library('rpart')
library('rpart.plot')
dataset = read.table("../Data/page-blocks.data", sep = "")
dataset = as.matrix(dataset)
##experiments start here
bound <- floor((nrow(dataset)/4)*3)         #define % of training and test set
dataset <- dataset[sample(nrow(dataset)), ]           #sample rows
trainset <- dataset[1:bound, ]              #get training set
testset <- dataset[(bound+1):nrow(dataset), ]    #get test set
model <- rpart(trainset[,11] ~ trainset[,1:10], data = as.data.frame(trainset), minbucket=5)
setwd("C:/SP17/Data Mining/Project/Code")
library('rpart')
library('rpart.plot')
dataset = read.table("../Data/page-blocks.data", sep = "")
dataset = as.matrix(dataset)
##experiments start here
bound <- floor((nrow(dataset)/4)*3)         #define % of training and test set
dataset <- dataset[sample(nrow(dataset)), ]           #sample rows
trainset <- dataset[1:bound, ]              #get training set
testset <- dataset[(bound+1):nrow(dataset), ]    #get test set
model <- rpart(trainset[,11] ~ trainset[,1:10], data = as.data.frame(trainset), minbucket=5)
model
plot(model)
pred <- predict(model, data = as.data.frame(testset))
pred
last = testset[,11]
last
pred == testdata[ , last]
pred == testset[ , last]
mean(pred == testset[ , last])
1 - mean(pred == testset[ , last])
library('rpart')
library('rpart.plot')
dataset = read.table("../Data/page-blocks.data", sep = "")
dataset = as.matrix(dataset)
##experiments start here
bound <- floor((nrow(dataset)/4)*3)         #define % of training and test set
dataset <- dataset[sample(nrow(dataset)), ]           #sample rows
trainset <- dataset[1:bound, ]              #get training set
testset <- dataset[(bound+1):nrow(dataset), ]    #get test set
model <- rpart(trainset[,11] ~ trainset[,1:10], data = as.data.frame(trainset), minbucket=5)
rpart.plot(model)
pred <- predict(model, data = as.data.frame(testset))
#pred
last = testset[,11]
#last
accuracy = 1 - mean(pred == testset[ , last])
##experiments end here
#fit =  rpart(data[,11] ~ data[,1:10], data=as.data.frame(data))
#rpart.plot(fit)
#class.pred <- table(predict(fit, type="class"), data[,11]) #confusion matrix
#cerror1 = 1-sum(diag(class.pred))/sum(class.pred) #classification error
#cerror1
rpart.plot(model)
plot(model)
plotcp(model)
printcp(model)
text(model)
text(model)
text(model)
library('rpart')
library('rpart.plot')
dataset = read.table("../Data/page-blocks.data", sep = "")
dataset = as.matrix(dataset)
##experiments start here
bound <- floor((nrow(dataset)/4)*3)         #define % of training and test set
dataset <- dataset[sample(nrow(dataset)), ]           #sample rows
trainset <- dataset[1:bound, ]              #get training set
testset <- dataset[(bound+1):nrow(dataset), ]    #get test set
model <- rpart(trainset[,11] ~ trainset[,1:10], data = as.data.frame(trainset), minbucket=5)
text(model)
plot(model)
text(model)
